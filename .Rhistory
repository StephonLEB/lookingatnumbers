i = i+1
}
i <- 1
while (i < 6) {
print(i)
i = i+1
}
i <- 1
while (i < 6) {
print(i)
i = i+1
}
i <- 1
while (i < 6) {
print(i)
i = i+1
}
i <- 1
while (i < 6) {
print(i)
i = i+1
}
shit <- 0
while (i < 6) {
shit[i] = i
print(i)
i = i +1
}
shit
i <- 1
while (i < 6) {
shit[i] = i
print(i)
i = i +1
}
shit
while (i < 6) {
shit[i] = i
i = i +1
}
shit
i <- 1
while (i < 6) {
shit[i] = i
i = i +1
}
shit
while (i < 5) {
shit[i] = i
i = i +1
}
shit
i <- 1
while (i < 5) {
shit[i] = i
i = i +1
}
shit
shit <- 0
i <- 1
while (i < 5) {
shit[i] = i
i = i +1
}
shit
sum(shit)
shit <- 0
i <- 1
while (i < 5) {
shit[i] = i
print(sum(shit))
i = i +1
}
while (i < 5) {
shit[i] = i
if (sum(shit)<10){
print(sum(shit))
}
i = i +1
}
shit <- 0
i <- 1
while (i < 5) {
shit[i] = i
if (sum(shit)<10){
print(sum(shit))
}
i = i +1
}
bite <- c(1,2,1,1,2,1,1,1,4,5,6)
bite
length(bit)
length(bite)
i = 1
while (i<length(bite)){
print(i)
i = i+1
}
i = 1
while (i<length(bite)){
print(bite[i])
i = i+1
}
shit = 0
i = 1
while (i<length(bite)){
shit[i] = bite[i]
print(shit)
i = i+1
}
shit = 0
i = 1
lights_numbered
bite
bite %>% count()
?count()
plyr::count(bite)
plyr::count(bite,1)
plyr::count(bite,1) %>% filter(x==1)
bite(n)
bite[lenght[bite]]
bite[lenght(bite)]
bite[length(bite)]
shit = 0
i = 1
while (i<length(bite)){
shit[i] = bite[i]
if (bite[length(bite)] > 1) {
booty[i] = length(shit)
}
i = i+1
}
booty = 0
shit = 0
i = 1
while (i<length(bite)){
shit[i] = bite[i]
if (bite[length(bite)] > 1) {
booty[i] = length(shit)
}
i = i+1
}
booty
bite
lights_numbered
booty = 0
shit = 0
i = 1
bite[length(bite)] > 1
bite
bite[1:6]
bite[length(bite)] > 1
bite <- bite[1:6]
bite[length(bite)] > 1
bite <- c(1,2,1,1,2,1,1,1,4,5,6)
booty = 0
shit = 0
i = 1
while (i<length(bite)){
shit[i] = bite[i]
if (bite[length(bite)] > 1) {
booty[i] = length(shit)
} else{
boot[i] = 5
}
i = i+1
}
while (i<length(bite)){
shit[i] = bite[i]
if (bite[length(bite)] > 1) {
booty[i] = length(shit)
} else{
booty[i] = 5
}
i = i+1
}
bite <- c(1,2,1,1,2,1,1,1,4,5,6)
booty = 0
shit = 0
i = 1
while (i<length(bite)){
shit[i] = bite[i]
if (bite[length(bite)] > 1) {
booty[i] = length(shit)
} else{
booty[i] = 5
}
i = i+1
}
bite
booty
bite <- c(1,2,1,1,2,1,1,1,4,5,6)
booty = 0
shit = 0
i = 1
while (i<length(bite)){
shit[i] = bite[i]
if (bite[length(shit)] > 1) {
booty[i] = length(shit)
} else{
booty[i] = 5
}
i = i+1
}
booty
bite
lights_numbered
bite
shit = 0
i = 1
while (i<length(bite)){
shit[i] = bite[i]
i = i+1
}
shit
shit = 0
i = 1
while (i<length(bite)){
shit[i] = bite[i]
print(shit)
i = i+1
}
shit
i
shit[i-1:i]
i-1
i
shit[10:11]
length(shit)
shit[i-2:i-1]
shit[i-2:i-1]
i
i-1
i-2
shit[9:10]
i=1
j=2
shit[i:j]
shit = 0
i = 1
j = i-1
while (i<length(bite)){
j=i-1
shit[i] = bite[i]
print(shit[j:i])
i = i+1
}
shit
shit = 0
i = 1
j = i-1
while (i<length(bite)){
j=i-1
shit[i] = bite[i]
if (shit[j]==shit[i]){
k = i-2
print(shit[k:i])
} else{
print(shit[j:i])
}
i = i+1
}
shit[j]==shit[i
shit[j]==shit[i]
shit
shit[1] = 1
i = 2
shit[1] = 1
j = i-1
while (i<length(bite)){
j=i-1
shit[i] = bite[i]
if (shit[j]==shit[i]){
k = i-2
print(shit[k:i])
} else{
print(shit[j:i])
}
i = i+1
}
shit
i = 2
shit[1] = 1
j = i-1
while (i<length(bite)){
j=i-1
shit[i] = bite[i]
if (shit[j]==shit[i]){
k = i-2
if (shit[k]==shit[i])
h = i-3
print(shit[h:i])
else {
print(shit[k:i])
}
} else{
print(shit[j:i])
}
i = i+1
}
i = 2
shit[1] = 1
j = i-1
while (i<length(bite)){
j=i-1
shit[i] = bite[i]
if (shit[j]==shit[i]){
k = i-2
if (shit[k]==shit[i])
h = i-3
print(shit[h:i])
else {
print(shit[k:i])
}
} else {
print(shit[j:i])
}
i = i+1
}
i = 2
shit[1] = 1
shit[2] = 2
j = i-1
while (i<length(bite)){
j=i-1
shit[i] = bite[i]
if (shit[j]==shit[i]){
k = i-2
if (shit[k]==shit[i])
h = i-3
print(shit[h:i])
else {
print(shit[k:i])
}
} else {
print(shit[j:i])
}
i = i+1
}
i = 2
shit[1] = 1
shit[2] = 2
shit[3] = 3
j = i-1
while (i<length(bite)){
j=i-1
shit[i] = bite[i]
if (shit[j]==shit[i]){
k = i-2
if (shit[k]==shit[i])
h = i-3
print(shit[h:i])
else {
print(shit[k:i])
}
} else {
print(shit[j:i])
}
i = i+1
}
i = 2
shit[1] = 1
j = i-1
while (i<length(bite)){
j=i-1
shit[i] = bite[i]
if (shit[j]==shit[i]){
k = i-2
print(shit[k:i])
} else{
print(shit[j:i])
}
i = i+1
}
for (i in 1:length(bite)){
j=i-1
shit[i] = bite[i]
if (shit[j]==shit[i]){
k = i-2
print(shit[k:i])
} else{
print(shit[j:i])
}
i = i+1
}
i = 2
shit[1] = 1
j = i-1
for (i in 1:length(bite)){
j=i-1
shit[i] = bite[i]
if (shit[j]==shit[i]){
k = i-2
print(shit[k:i])
} else{
print(shit[j:i])
}
i = i+1
}
i = 2
shit[1] = 1
j = i-1
while (i<length(bite)){
j=i-1
shit[i] = bite[i]
if (shit[j]==shit[i]){
k = i-2
print(shit[k:i])
} else{
print(shit[j:i])
}
i = i+1
}
rle(bite)
bite
rle(bite)$lengths
rle(bite)$lengths %>% sequence()
biter <- rle(bite)$lengths %>% sequence()
data.frame(bite,biter)
lights_numbered <- lights %>% arrange(desc(date)) %>% mutate(numdate = as.numeric(date))
for (i in 1:length(lights_numbered$numdate)){
lights_numbered$gap[i]= lights_numbered$numdate[i] - lights_numbered$numdate[i+1]
}
lights_numbered <- lights_numbered %>% mutate(previous = as_date(numdate-gap)) %>% filter(!is.na(occasion))
lights_numbered <- lights %>% arrange(desc(date)) %>% mutate(numdate = as.numeric(date))
for (i in 1:length(lights_numbered$numdate)){
lights_numbered$gap[i]= lights_numbered$numdate[i] - lights_numbered$numdate[i+1]
}
lights_numbered <- lights_numbered %>% mutate(previous = as_date(numdate-gap)) %>% filter(!is.na(occasion))
lights_numbered
lights_numbered %>% arrange(desc(gap))
rle
lights_numbered
lights_numbered %>% mutate(streak = rle(gap)$lengths %>% sequence())
lights_numbered %>% mutate(streak = rle(gap)$lengths %>% sequence()) %>% filter(gap==1)
lights_numbered %>% mutate(streak = rle(gap)$lengths %>% sequence()) %>% filter(gap==1) %>% arrange(desc(streak))
lights_numbered %>% mutate(streak = rle(gap)$lengths %>% sequence()) %>% arrange(desc(streak))
%>% filter(gap==1)
lights_numbered %>% mutate(streak = rle(gap)$lengths %>% sequence()) %>% filter(gap==1) %>% arrange(desc(streak))
?rle
lights <- read_html("https://www.ncsu.edu/about/history-and-tradition/belltower-celebrations/archive") %>%
html_nodes("div.section-txt p") %>% html_text() %>% tbl_df() %>%
filter(str_detect(value,"Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec")) %>%
mutate(date = str_remove(value,"(\\n.+)+"),
date=mdy(date),
occasion = str_extract(value,"(?<=\\n).+")) %>% filter(!is.na(date),
date<=Sys.Date()) %>% select(-1)
dim(lights)
light_dated %>% filter(!is.na(occasion)) %>%mutate(
occasion = case_when(
str_detect(occasion, "Recognition") == TRUE ~ "Recognition",
str_detect(occasion, "Recognition") == FALSE ~ occasion
),
occasion = fct_lump(occasion, 5)
) %>%
group_by(occasion, month) %>%
summarise(n = n()) %>% ggplot(aes(fct_rev(month), n, fill = occasion)) +
geom_col() + coord_flip() +
theme(axis.text = element_text(size=13,
family = "PT Sans"),
panel.background = element_rect(fill="#F2F2F2"),
plot.margin = margin(20,20,20,20,"pt"),
axis.ticks = element_blank(),
panel.grid = element_blank(),
plot.title = element_text(family = "PT Sans",size = 21),
plot.subtitle = element_text(family="PT Sans"),
panel.border = element_blank(),
axis.title = element_text(size=11,
family = "PT Sans",hjust = 1),
plot.background = element_rect(fill="#F2F2F2"),
legend.position = "bottom",
legend.background = element_rect(fill="#F2F2F2"),
legend.text = element_text(family="PT Sans"),
legend.title = element_text(family = "PT Sans")) +
labs(x=NULL,y="# of Nights Lit Red",title = "Months the NC State Belltower is lit",
subtitle = "(2011-2018)",fill="Occasion for Celebration") +
scale_fill_manual(values = c("#990000","#D14905","#FDD726","#6F7D1C","#427E93","#4156A1"))
blogdown::stop_server()
blogdown::serve_site()
lights_numbered
blogdown::serve_site()
lights_numbered  %>% mutate(streak = rle(gap)$lengths %>% sequence())
lights_numbered  %>% mutate(streak = rle(gap)$lengths %>% sequence()) %>% head(20)
lights_numbered %>% filter(unique(date))
library(tidyverse)
lights_numbered %>% filter(unique(date))
lights_numbered %>% filter(unique(date))
lights_numbered
lights_numbered %>% filter(unique())
lights_numbered %>% filter(unique(date))
lights_numbered %>% filter(distinct(date))
lights_numbered %>% filter(first(date))
lights_numbered %>% filter(distinct(date))
?first()
lights_numbered %>% select(first(date))
lights_numbered %>% group_by_all()
lights_numbered %>% group_by_all() %>% filter(first(date))
lights_numbered %>% unique(date)
lights_numbered %>% select(date)
lights_numbered %>% select(date) %>% unique()
lights_numbered %>% select(date) %>% unique() %>% left_join(lights_numbered)
lights_numbered %>% select(date) %>% unique() %>% inner_join(lights_numbered)
?inner_join()
lights_numbered %>% distinct()
lights_numbered %>% distinct(occasion)
lights_numbered %>% filter(distinct(occasion))
?distinct
lights_numbered
lights_numbered %>% distinct(date,previous)
lights_numbered %>% distinct(date,occasion)
lights_numbered %>% distinct(date)
lights_numbered %>% distinct()
